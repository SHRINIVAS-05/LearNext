<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Java Course Details</title>
<link rel="stylesheet" href="TrainerView.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

	<nav>
		<ul>
			<div class="left-nav">
				<li><a href="index.html">Home</a></li>
				<li><a href="Trainer.html">My Profile</a></li>
			</div>
			<div class="right-nav">
				<li><a href="#logout">Logout</a></li>
			</div>
		</ul>
	</nav>

	<main>
		<section class="technology-details">
			<h1>Java Courses</h1>

			<table class="tech-table">
				<thead>
					<tr>
						<th>Sl. No.</th>
						<th>EMPID</th>
						<th>Course ID</th>
						<th>Topic Name</th>
						<th>Description</th>
						<th>Video</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="course, stat : ${courses}">
						<td th:text="${stat.count}">1</td>
						<td th:text="${course.empID}">EMPID</td>
						<td th:text="${course.courseID}">COURSE_ID</td>
						<td th:text="${course.topicName}">Topic</td>
						<td th:text="${course.vedioContent}">Video Content
							Description</td>
						<!-- <td>
                        <div th:if="${course.vedioUrls != null}">
                            Extract video ID and create embed URL
                            <iframe
                                th:src="'https://www.youtube.com/embed/' + ${#strings.substringAfter(course.vedioUrls, 'watch?v=')}"
                                width="300" height="200" frameborder="0"
                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                        </div>
                        <div th:if="${course.vedioUrls == null}">No video available</div>
                    </td>
                     -->
						<!-- <td>
							<div th:if="${course.vedioUrls != null}">
								Extract video ID and create embed URL
								<iframe
									th:src="'https://www.youtube.com/embed/' + ${#strings.substringAfter(course.vedioUrls, 'v=')}"
									width="300" height="200" frameborder="0"
									allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
									allowfullscreen></iframe>
							</div>
							<div th:if="${course.vedioUrls == null}">No video available</div>
						</td>
 -->

						<td>
							<div th:if="${course.vedioUrls != null}">
								<!-- Extract video ID and create embed URL -->
								<iframe
									th:src="'https://www.youtube.com/embed/' + ${#strings.substringAfter(course.vedioUrls, 'youtu.be/')}"
									width="300" height="200" frameborder="0"
									allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
									allowfullscreen></iframe>
							</div>
							<div th:if="${course.vedioUrls == null}">No video available</div>
						</td>
						
						
						
						

					</tr>
				</tbody>
			</table>
		</section>
	</main>

	<footer> &copy; 2024 Your Website. All rights reserved. </footer>

	<script>
document.addEventListener('DOMContentLoaded', function() {
    const iframes = document.querySelectorAll('iframe');

    iframes.forEach(iframe => {
        const src = iframe.getAttribute('src');
        if (src) {
            // Validate and fix the URL if necessary
            iframe.setAttribute('src', src);
        }
    });
});


fetch('/api/getAllJavaCourses')
.then(response => response.json())
.then(data => {
    // Handle data
})
.catch(error => {
    console.error('Error fetching data:', error);
});


chrome.runtime.onMessage.addListener(function(request, sender, sendResponse) {
    // Asynchronous operation
    someAsyncFunction().then(response => {
        sendResponse(response);
    }).catch(error => {
        console.error('Async error:', error);
    });
    // Return true to indicate an asynchronous response
    return true;
});

</script>

</body>
</html>
